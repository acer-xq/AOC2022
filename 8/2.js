f=x=>Math.max(...(x.map(y=>[...y]).flatMap((z,i)=>z.map((w,j,_,c=x.length,d=z.length)=>!i&j|-~i-~j-c-d>-1?0:(-~z[s='slice'](0,j).reverse()[f='findIndex'](v=>v>=w)||j)*(-~z[s](j+1)[f](v=>v>=w)||d+~j)*(-~x[s](0,i).reverse()[f](v=>v[j]>=w)||i)*(-~x[s](i+1)[f](v=>v[j]>=w)||c+~i)))))
console.log(f(require('fs').readFileSync('./input.txt', 'utf8').split('\r\n')))